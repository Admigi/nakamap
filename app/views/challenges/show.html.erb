
<%= form_for @challenge, url: check_answer_challenge_path(@challenge), method: :post, data: { controller: 'timer', timer_time_limit: 300 } do |f| %>
<div data-timer-target="timer" data-time-limit="<%= 2 * 60 %>"></div>

  <% @challenge.metadata['questions'].each_with_index do |question, index| %>
    <div class="question-container" data-index="<%= index %>">
      <h1><%= question['question'] %></h1>
      <p><%= f.check_box :selected_options, { multiple: true }, 'a', nil %> <%= f.label :selected_options, question['option_a'] %></p>
      <p><%= f.check_box :selected_options, { multiple: true }, 'b', nil %> <%= f.label :selected_options, question['option_b'] %></p>
      <p><%= f.check_box :selected_options, { multiple: true }, 'c', nil %> <%= f.label :selected_options, question['option_c'] %></p>
    </div>
  <% end %>

  <%= hidden_field_tag 'question_count', @challenge.metadata['questions'].length %>

  <%= f.submit "Submit Answers" %>
<% end %>